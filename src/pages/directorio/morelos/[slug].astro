---
/**
 * ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
 * ‚ïë  P√ÅGINA DIN√ÅMICA DE ESTACI√ìN - MORELOS                                                            ‚ïë
 * ‚ïë  "La Ciudad de la Eterna Primavera" - P√°ginas Individuales de Estaciones                         ‚ïë
 * ‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
 * ‚ïë  SEO optimizado ‚Ä¢ Schema.org FireStation ‚Ä¢ Contexto geogr√°fico especializado                     ‚ïë
 * ‚ïë  Alertas por zona: S√≠smica, Autopista, Industrial, Balnearios, Monta√±a                           ‚ïë
 * ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
 */
import PageLayout from "@layouts/PageLayout.astro";
import {
  estacionesMorelos,
  MORELOS_SEO,
  ZONAS_MORELOS,
  generarSchemaEstacion,
  getContextoZona
} from '../../../data/estaciones-morelos';

export function getStaticPaths() {
  return estacionesMorelos.map((estacion) => ({
    params: { slug: estacion.slug },
    props: { estacion },
  }));
}

const { estacion } = Astro.props;

// Meta SEO
const title = `${estacion.nombre} | Bomberos ${estacion.ciudad}, Morelos - Tel: ${estacion.telefono}`;
const description = `${estacion.nombre} en ${estacion.direccion}, ${estacion.ciudad}. Tel: ${estacion.telefono}. Servicios 24/7: ${estacion.servicios.slice(0, 3).join(", ")}. Cobertura: ${estacion.cobertura?.slice(0, 3).join(", ") || estacion.ciudad}. ${estacion.historia?.slice(0, 100) || 'Atenci√≥n de emergencias en Morelos.'}`;

// Schema.org
const schemaData = generarSchemaEstacion(estacion);

// Schema.org BreadcrumbList
const schemaBreadcrumb = {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    { "@type": "ListItem", "position": 1, "name": "Inicio", "item": "https://bomberosmexico.com/" },
    { "@type": "ListItem", "position": 2, "name": "Directorio", "item": "https://bomberosmexico.com/directorio" },
    { "@type": "ListItem", "position": 3, "name": "Morelos", "item": "https://bomberosmexico.com/directorio/morelos" },
    { "@type": "ListItem", "position": 4, "name": estacion.nombre, "item": `https://bomberosmexico.com/directorio/morelos/${estacion.slug}` }
  ]
};

// Determinar zona y contexto
const zonaConfig = ZONAS_MORELOS.find(z => {
  if (z.id === "cuernavaca") return estacion.zona === "Zona Metropolitana Cuernavaca";
  if (z.id === "civac") return estacion.zona === "Zona Industrial CIVAC";
  if (z.id === "altos") return estacion.zona === "Altos de Morelos";
  if (z.id === "cuautla") return estacion.zona === "Valle de Cuautla";
  if (z.id === "sur") return estacion.zona === "Haciendas del Sur";
  if (z.id === "norte") return estacion.zona === "Corredor Norte CDMX";
  return false;
});

// Alertas contextuales seg√∫n zona y estaci√≥n
const alertas: { tipo: string; icono: string; titulo: string; mensaje: string; color: string }[] = [];

// Alertas generales seg√∫n zona
if (estacion.zona === "Corredor Norte CDMX" || estacion.servicios.some(s => s.toLowerCase().includes("autopista"))) {
  alertas.push({
    tipo: "autopista",
    icono: "üöó",
    titulo: "Autopista del Sol - Alto Flujo Vehicular",
    mensaje: "Esta estaci√≥n atiende emergencias en uno de los corredores m√°s transitados de M√©xico. Rescate carretero 24/7.",
    color: "#1e40af"
  });
}

if (estacion.zona === "Zona Industrial CIVAC" || estacion.especialidades?.some(e => e.toLowerCase().includes("hazmat"))) {
  alertas.push({
    tipo: "industrial",
    icono: "‚ò¢Ô∏è",
    titulo: "Zona Industrial HAZMAT",
    mensaje: "Estaci√≥n con capacidad de respuesta a materiales peligrosos. En emergencia industrial, evac√∫e en direcci√≥n contraria al viento.",
    color: "#7c3aed"
  });
}

if (estacion.zona === "Altos de Morelos" || estacion.servicios.some(s => s.toLowerCase().includes("monta√±a") || s.toLowerCase().includes("tepozteco"))) {
  alertas.push({
    tipo: "montana",
    icono: "ü•æ",
    titulo: "Zona de Rescate de Monta√±a",
    mensaje: "Registre su ruta antes de subir al Tepozteco. En caso de emergencia, proporcione ubicaci√≥n GPS exacta.",
    color: "#16a34a"
  });
}

if (estacion.zona === "Valle de Cuautla" || estacion.servicios.some(s => s.toLowerCase().includes("balneario") || s.toLowerCase().includes("acu√°tico"))) {
  alertas.push({
    tipo: "acuatico",
    icono: "üíß",
    titulo: "Zona de Emergencias Acu√°ticas",
    mensaje: "Especializaci√≥n en rescate acu√°tico para balnearios y parques acu√°ticos. Supervise a menores en todo momento.",
    color: "#0891b2"
  });
}

if (estacion.zona === "Haciendas del Sur") {
  alertas.push({
    tipo: "sismo",
    icono: "‚ö†Ô∏è",
    titulo: "Zona Afectada por Sismo 2017",
    mensaje: "Esta zona fue severamente impactada por el sismo del 19/09/2017. Reporte da√±os estructurales inmediatamente.",
    color: "#dc2626"
  });
}

// Alerta s√≠smica general para Morelos
if (alertas.length === 0 || !alertas.some(a => a.tipo === "sismo")) {
  alertas.push({
    tipo: "sismo-general",
    icono: "üîî",
    titulo: "Zona S√≠smica Activa",
    mensaje: "Morelos se encuentra en zona de alta actividad s√≠smica. Conozca las rutas de evacuaci√≥n de su ubicaci√≥n.",
    color: "#f97316"
  });
}

// Obtener otras estaciones de la misma zona
const estacionesZona = estacionesMorelos.filter(e => e.zona === estacion.zona && e.slug !== estacion.slug).slice(0, 4);

// Contenido especial para estaciones centrales
const esEstacionCentral = estacion.slug.includes("central");
const esTepoztlan = estacion.slug.includes("tepoztlan");
const esCIVAC = estacion.slug.includes("civac");
const esOaxtepec = estacion.slug.includes("oaxtepec");
const esAutopista = estacion.slug.includes("xochitepec") || estacion.slug.includes("huitzilac");
---

<PageLayout title={title} description={description}>
  <script type="application/ld+json" set:html={JSON.stringify(schemaData)} />
  <script type="application/ld+json" set:html={JSON.stringify(schemaBreadcrumb)} />

  <div class="station-page">
    <!-- Alertas Contextuales -->
    {alertas.length > 0 && (
      <div class="alerts-container">
        {alertas.slice(0, 2).map((alerta) => (
          <div class="alert-banner" style={`background: ${alerta.color}`}>
            <div class="alert-content">
              <span class="alert-icon">{alerta.icono}</span>
              <div class="alert-text">
                <strong>{alerta.titulo}</strong>
                <span>{alerta.mensaje}</span>
              </div>
            </div>
          </div>
        ))}
      </div>
    )}

    <!-- Hero Section -->
    <section class="hero" style={`--zone-color: ${zonaConfig?.color || '#059669'}`}>
      <div class="hero-content">
        <nav class="breadcrumb" aria-label="Breadcrumb">
          <a href="/">Inicio</a>
          <span>/</span>
          <a href="/directorio">Directorio</a>
          <span>/</span>
          <a href="/directorio/morelos">Morelos</a>
          <span>/</span>
          <span class="current">{estacion.ciudad}</span>
        </nav>

        <div class="hero-badges">
          {zonaConfig && (
            <div class="hero-badge zone">
              <span class="badge-icon">{zonaConfig.icono}</span>
              <span>{zonaConfig.nombre}</span>
            </div>
          )}
          {estacion.especialidades && estacion.especialidades.slice(0, 2).map((esp) => (
            <div class="hero-badge specialty">
              <span>{esp}</span>
            </div>
          ))}
        </div>

        <h1>{estacion.nombre}</h1>

        <div class="hero-meta">
          <span class="meta-item">
            <span class="meta-icon">üìç</span>
            <span>{estacion.ciudad}, Morelos</span>
          </span>
          <span class="meta-item">
            <span class="meta-icon">üïê</span>
            <span>{estacion.horario}</span>
          </span>
          {estacion.tiempoRespuesta && (
            <span class="meta-item highlight">
              <span class="meta-icon">‚è±Ô∏è</span>
              <span>{estacion.tiempoRespuesta}</span>
            </span>
          )}
        </div>

        <div class="emergency-buttons">
          <a href={`tel:${estacion.telefono.replace(/\D/g, '')}`} class="btn-emergency primary">
            <span class="btn-icon">üìû</span>
            <span class="btn-text">
              <strong>{estacion.telefono}</strong>
              <small>L√≠nea principal</small>
            </span>
          </a>
          {estacion.telefono2 && (
            <a href={`tel:${estacion.telefono2.replace(/\D/g, '')}`} class="btn-emergency secondary">
              <span class="btn-icon">üì±</span>
              <span class="btn-text">
                <strong>{estacion.telefono2}</strong>
                <small>L√≠nea alterna</small>
              </span>
            </a>
          )}
          <a href="tel:911" class="btn-emergency emergency">
            <span class="btn-icon">üö®</span>
            <span class="btn-text">
              <strong>911</strong>
              <small>Emergencias</small>
            </span>
          </a>
        </div>
      </div>
    </section>

    <!-- Main Content -->
    <div class="main-container">
      <div class="content-grid">
        <main class="main-content">
          <!-- Informaci√≥n de Contacto -->
          <section class="info-card contact-card">
            <h2>üìç Ubicaci√≥n y Contacto</h2>
            <div class="contact-grid">
              <div class="contact-item">
                <span class="contact-label">Direcci√≥n</span>
                <span class="contact-value">{estacion.direccion}</span>
              </div>
              <div class="contact-item">
                <span class="contact-label">Ciudad</span>
                <span class="contact-value">{estacion.ciudad}, Morelos</span>
              </div>
              {estacion.cp && (
                <div class="contact-item">
                  <span class="contact-label">C√≥digo Postal</span>
                  <span class="contact-value">{estacion.cp}</span>
                </div>
              )}
              <div class="contact-item">
                <span class="contact-label">Tel√©fono Principal</span>
                <a href={`tel:${estacion.telefono.replace(/\D/g, '')}`} class="contact-phone">{estacion.telefono}</a>
              </div>
              {estacion.telefono2 && (
                <div class="contact-item">
                  <span class="contact-label">Tel√©fono Alterno</span>
                  <a href={`tel:${estacion.telefono2.replace(/\D/g, '')}`} class="contact-phone">{estacion.telefono2}</a>
                </div>
              )}
              <div class="contact-item">
                <span class="contact-label">Horario</span>
                <span class="contact-value highlight">{estacion.horario}</span>
              </div>
            </div>

            {estacion.coordenadas && (
              <div class="map-container">
                <a
                  href={`https://www.google.com/maps?q=${estacion.coordenadas.lat},${estacion.coordenadas.lng}`}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="map-link"
                >
                  <span class="map-icon">üó∫Ô∏è</span>
                  <span>Ver ubicaci√≥n en Google Maps</span>
                  <span class="map-coords">({estacion.coordenadas.lat.toFixed(4)}, {estacion.coordenadas.lng.toFixed(4)})</span>
                </a>
              </div>
            )}
          </section>

          <!-- Servicios -->
          <section class="info-card services-card">
            <h2>üöí Servicios de Emergencia</h2>
            <ul class="services-list">
              {estacion.servicios.map((servicio) => (
                <li class="service-item">
                  <span class="service-icon">
                    {servicio.toLowerCase().includes("incendio") ? "üî•" :
                     servicio.toLowerCase().includes("rescate") ? "üÜò" :
                     servicio.toLowerCase().includes("hazmat") || servicio.toLowerCase().includes("material") ? "‚ò¢Ô∏è" :
                     servicio.toLowerCase().includes("acu√°tico") || servicio.toLowerCase().includes("agua") ? "üíß" :
                     servicio.toLowerCase().includes("forestal") ? "üå≤" :
                     servicio.toLowerCase().includes("vehicular") || servicio.toLowerCase().includes("carretero") ? "üöó" :
                     servicio.toLowerCase().includes("monta√±a") || servicio.toLowerCase().includes("vertical") ? "ü•æ" :
                     servicio.toLowerCase().includes("industrial") ? "üè≠" :
                     servicio.toLowerCase().includes("protecci√≥n") || servicio.toLowerCase().includes("patrimonio") ? "üèõÔ∏è" :
                     servicio.toLowerCase().includes("coordinaci√≥n") ? "üìã" :
                     servicio.toLowerCase().includes("academia") || servicio.toLowerCase().includes("formaci√≥n") ? "üéì" :
                     "‚úì"}
                  </span>
                  <span class="service-text">{servicio}</span>
                </li>
              ))}
            </ul>
          </section>

          <!-- Especialidades -->
          {estacion.especialidades && estacion.especialidades.length > 0 && (
            <section class="info-card specialties-card">
              <h2>üéñÔ∏è Especialidades Certificadas</h2>
              <div class="specialties-grid">
                {estacion.especialidades.map((esp) => (
                  <div class="specialty-item" data-type={
                    esp.toLowerCase().includes("hazmat") ? "hazmat" :
                    esp.toLowerCase().includes("usar") || esp.toLowerCase().includes("urbano") ? "usar" :
                    esp.toLowerCase().includes("acu√°tico") ? "aquatic" :
                    esp.toLowerCase().includes("forestal") || esp.toLowerCase().includes("monta√±a") ? "forest" :
                    esp.toLowerCase().includes("carretero") || esp.toLowerCase().includes("vehicular") ? "highway" :
                    esp.toLowerCase().includes("industrial") ? "industrial" :
                    esp.toLowerCase().includes("pueblo m√°gico") ? "magic" :
                    "default"
                  }>
                    <span class="specialty-name">{esp}</span>
                  </div>
                ))}
              </div>
            </section>
          )}

          <!-- Cobertura -->
          {estacion.cobertura && estacion.cobertura.length > 0 && (
            <section class="info-card coverage-card">
              <h2>üó∫Ô∏è Zonas de Cobertura</h2>
              <div class="coverage-grid">
                {estacion.cobertura.map((zona) => (
                  <span class="coverage-tag">{zona}</span>
                ))}
              </div>
              {estacion.tiempoRespuesta && (
                <div class="response-info">
                  <span class="response-icon">‚è±Ô∏è</span>
                  <span class="response-text">Tiempo de respuesta estimado: <strong>{estacion.tiempoRespuesta}</strong></span>
                </div>
              )}
            </section>
          )}

          <!-- Historia (si existe) -->
          {estacion.historia && (
            <section class="info-card history-card">
              <h2>üìú Historia y Contexto</h2>
              <p class="history-text">{estacion.historia}</p>
              {estacion.fundacion && (
                <div class="foundation-badge">
                  <span class="foundation-icon">üèõÔ∏è</span>
                  <span>Fundada en {estacion.fundacion}</span>
                </div>
              )}
            </section>
          )}

          <!-- Contenido especial para Tepoztl√°n -->
          {esTepoztlan && (
            <section class="info-card special-card tepoztlan">
              <h2>üåÑ Pueblo M√°gico de Tepoztl√°n</h2>
              <div class="special-content">
                <p>
                  <strong>Tepoztl√°n</strong> es uno de los Pueblos M√°gicos m√°s visitados de M√©xico,
                  famoso por su energ√≠a m√≠stica y el <strong>Cerro del Tepozteco</strong> con su
                  pir√°mide prehisp√°nica dedicada a Ometochtli-Tepozt√©catl, dios del pulque.
                </p>
                <div class="special-features">
                  <div class="feature">
                    <span class="feature-icon">ü•æ</span>
                    <span>Rescate de monta√±a activo</span>
                  </div>
                  <div class="feature">
                    <span class="feature-icon">üìç</span>
                    <span>Pir√°mide a 600m de altura</span>
                  </div>
                  <div class="feature">
                    <span class="feature-icon">üå≤</span>
                    <span>Incendios forestales temporada seca</span>
                  </div>
                  <div class="feature">
                    <span class="feature-icon">üë•</span>
                    <span>1.5 millones de visitantes/a√±o</span>
                  </div>
                </div>
                <div class="special-warning">
                  <strong>Recomendaciones para excursionistas:</strong>
                  <ul>
                    <li>Registre su ruta antes de subir</li>
                    <li>Lleve agua suficiente y protecci√≥n solar</li>
                    <li>Use calzado adecuado para senderos rocosos</li>
                    <li>Inicie el ascenso temprano (antes de 10am)</li>
                    <li>En emergencia, marque al (739) 395-0505</li>
                  </ul>
                </div>
              </div>
            </section>
          )}

          <!-- Contenido especial para CIVAC -->
          {esCIVAC && (
            <section class="info-card special-card civac">
              <h2>üè≠ Zona Industrial CIVAC</h2>
              <div class="special-content">
                <p>
                  <strong>CIVAC</strong> (Ciudad Industrial del Valle de Cuernavaca) es el parque
                  industrial m√°s importante del centro de M√©xico, con m√°s de <strong>150 empresas</strong>
                  de manufactura, automotriz, farmac√©utica y qu√≠mica.
                </p>
                <div class="special-features">
                  <div class="feature">
                    <span class="feature-icon">üöó</span>
                    <span>Nissan Mexicana - planta de producci√≥n</span>
                  </div>
                  <div class="feature">
                    <span class="feature-icon">üõû</span>
                    <span>Bridgestone - neum√°ticos</span>
                  </div>
                  <div class="feature">
                    <span class="feature-icon">üíä</span>
                    <span>Roche - farmac√©utica</span>
                  </div>
                  <div class="feature">
                    <span class="feature-icon">‚ò¢Ô∏è</span>
                    <span>HAZMAT Nivel III certificado</span>
                  </div>
                </div>
                <div class="special-warning hazmat">
                  <strong>En caso de emergencia industrial:</strong>
                  <ul>
                    <li>Evac√∫e en direcci√≥n contraria al viento</li>
                    <li>No toque sustancias desconocidas</li>
                    <li>Siga instrucciones de brigadas internas</li>
                    <li>Emergencias HAZMAT: (777) 320-4545</li>
                  </ul>
                </div>
              </div>
            </section>
          )}

          <!-- Contenido especial para Oaxtepec -->
          {esOaxtepec && (
            <section class="info-card special-card oaxtepec">
              <h2>üíß Centro Vacacional Oaxtepec</h2>
              <div class="special-content">
                <p>
                  <strong>Oaxtepec</strong> alberga el famoso <strong>Centro Vacacional del IMSS</strong>,
                  el parque acu√°tico m√°s grande de Am√©rica Latina con m√°s de 50 hect√°reas,
                  as√≠ como Six Flags Hurricane Harbor.
                </p>
                <div class="special-features">
                  <div class="feature">
                    <span class="feature-icon">üèä</span>
                    <span>Rescate acu√°tico especializado</span>
                  </div>
                  <div class="feature">
                    <span class="feature-icon">üé¢</span>
                    <span>Emergencias en toboganes</span>
                  </div>
                  <div class="feature">
                    <span class="feature-icon">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</span>
                    <span>Atenci√≥n masiva en temporada alta</span>
                  </div>
                  <div class="feature">
                    <span class="feature-icon">üè•</span>
                    <span>Coordinaci√≥n con servicios m√©dicos</span>
                  </div>
                </div>
                <div class="special-warning aquatic">
                  <strong>Seguridad en parques acu√°ticos:</strong>
                  <ul>
                    <li>Supervise a menores en todo momento</li>
                    <li>Respete indicaciones de salvavidas</li>
                    <li>Ubique estaciones de primeros auxilios</li>
                    <li>En emergencia: (735) 356-1515</li>
                  </ul>
                </div>
              </div>
            </section>
          )}

          <!-- Contenido especial para Autopista -->
          {esAutopista && (
            <section class="info-card special-card autopista">
              <h2>üõ£Ô∏è Corredor Autopista del Sol</h2>
              <div class="special-content">
                <p>
                  La <strong>Autopista del Sol</strong> (M√©xico-Cuernavaca-Acapulco) es una de las
                  carreteras m√°s transitadas del pa√≠s con m√°s de <strong>40 millones de veh√≠culos anuales</strong>.
                </p>
                <div class="special-stats">
                  <div class="stat-item">
                    <span class="stat-number">40M+</span>
                    <span class="stat-label">veh√≠culos/a√±o</span>
                  </div>
                  <div class="stat-item">
                    <span class="stat-number">200+</span>
                    <span class="stat-label">accidentes/a√±o</span>
                  </div>
                  <div class="stat-item">
                    <span class="stat-number">3-8 min</span>
                    <span class="stat-label">respuesta</span>
                  </div>
                </div>
                <div class="special-warning highway">
                  <strong>Seguridad vial en la autopista:</strong>
                  <ul>
                    <li>Respete l√≠mites de velocidad</li>
                    <li>Precauci√≥n en curvas y pendientes</li>
                    <li>En accidente: se√±alice y al√©jese del veh√≠culo</li>
                    <li>√Ångeles Verdes: 078</li>
                    <li>Emergencias: 911</li>
                  </ul>
                </div>
              </div>
            </section>
          )}

          <!-- Comandancia (si existe) -->
          {estacion.comandancia && (
            <section class="info-card comandancia-card">
              <h2>üéñÔ∏è Comandancia</h2>
              <div class="comandancia-info">
                <span class="comandancia-icon">üèõÔ∏è</span>
                <span class="comandancia-name">{estacion.comandancia}</span>
              </div>
            </section>
          )}
        </main>

        <!-- Sidebar -->
        <aside class="sidebar">
          <!-- Llamada de emergencia -->
          <div class="sidebar-card emergency-card">
            <h3>üö® Emergencias</h3>
            <div class="emergency-main">
              <a href={`tel:${estacion.telefono.replace(/\D/g, '')}`} class="emergency-btn">
                <span class="emergency-icon">üìû</span>
                <span class="emergency-number">{estacion.telefono}</span>
              </a>
            </div>
            <ul class="emergency-list">
              <li>
                <span>Emergencias Nacional</span>
                <a href="tel:911"><strong>911</strong></a>
              </li>
              <li>
                <span>Cruz Roja Cuernavaca</span>
                <a href="tel:7773153535">(777) 315-3535</a>
              </li>
              <li>
                <span>Protecci√≥n Civil</span>
                <a href="tel:7771001100">(777) 100-1100</a>
              </li>
              <li>
                <span>√Ångeles Verdes</span>
                <a href="tel:078">078</a>
              </li>
            </ul>
          </div>

          <!-- Zona geogr√°fica -->
          {zonaConfig && (
            <div class="sidebar-card zone-card" style={`--zone-color: ${zonaConfig.color}`}>
              <h3>{zonaConfig.icono} {zonaConfig.nombre}</h3>
              <p class="zone-desc">{zonaConfig.descripcion}</p>
              {zonaConfig.poblacion && (
                <span class="zone-pop">üë• {zonaConfig.poblacion}</span>
              )}
              {zonaConfig.riesgos && zonaConfig.riesgos.length > 0 && (
                <div class="zone-risks">
                  <span class="risks-title">Riesgos principales:</span>
                  <ul>
                    {zonaConfig.riesgos.map((riesgo) => (
                      <li>{riesgo}</li>
                    ))}
                  </ul>
                </div>
              )}
            </div>
          )}

          <!-- Otras estaciones de la zona -->
          {estacionesZona.length > 0 && (
            <div class="sidebar-card related-card">
              <h3>üöí Otras Estaciones en la Zona</h3>
              <ul class="related-list">
                {estacionesZona.map((est) => (
                  <li>
                    <a href={`/directorio/morelos/${est.slug}`}>
                      <span class="related-name">{est.nombre}</span>
                      <span class="related-city">{est.ciudad}</span>
                    </a>
                  </li>
                ))}
              </ul>
              <a href="/directorio/morelos" class="view-all">Ver todas las estaciones ‚Üí</a>
            </div>
          )}

          <!-- Info Morelos -->
          <div class="sidebar-card info-card-sidebar">
            <h3>üìä Morelos</h3>
            <ul class="info-list">
              <li><span>Capital</span><strong>Cuernavaca</strong></li>
              <li><span>Poblaci√≥n</span><strong>{MORELOS_SEO.demografia.poblacion}</strong></li>
              <li><span>Municipios</span><strong>{MORELOS_SEO.demografia.municipios}</strong></li>
              <li><span>Distancia CDMX</span><strong>85 km</strong></li>
              <li><span>Visitantes/a√±o</span><strong>4.2 millones</strong></li>
            </ul>
          </div>
        </aside>
      </div>
    </div>

    <!-- CTA Final -->
    <section class="cta-section">
      <div class="cta-content">
        <h2>¬øNecesitas contactar otra estaci√≥n?</h2>
        <p>Consulta el directorio completo de bomberos en Morelos</p>
        <a href="/directorio/morelos" class="cta-button">Ver todas las estaciones en Morelos</a>
      </div>
    </section>
  </div>
</PageLayout>

<style>
  /* Variables */
  :root {
    --mor-primary: #059669;
    --mor-secondary: #10b981;
    --mor-dark: #064e3b;
    --mor-light: #ecfdf5;
  }

  .station-page {
    min-height: 100vh;
    background: #f8fafc;
  }

  /* Alerts */
  .alerts-container {
    display: flex;
    flex-direction: column;
  }

  .alert-banner {
    padding: 0.75rem 1.5rem;
    color: white;
  }

  .alert-content {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  .alert-icon { font-size: 1.4rem; flex-shrink: 0; }
  .alert-text { display: flex; flex-direction: column; gap: 0.15rem; }
  .alert-text strong { font-size: 0.9rem; }
  .alert-text span { font-size: 0.8rem; opacity: 0.9; }

  /* Hero */
  .hero {
    background: linear-gradient(135deg, var(--zone-color, #059669), color-mix(in srgb, var(--zone-color, #059669) 70%, white));
    padding: 2.5rem 1.5rem 3rem;
    color: white;
  }

  .hero-content {
    max-width: 1200px;
    margin: 0 auto;
  }

  .breadcrumb {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    font-size: 0.85rem;
    margin-bottom: 1.25rem;
    opacity: 0.9;
  }

  .breadcrumb a { color: white; text-decoration: none; }
  .breadcrumb a:hover { text-decoration: underline; }
  .breadcrumb .current { font-weight: 600; }

  .hero-badges {
    display: flex;
    flex-wrap: wrap;
    gap: 0.6rem;
    margin-bottom: 1rem;
  }

  .hero-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
    padding: 0.4rem 0.8rem;
    border-radius: 2rem;
    font-size: 0.8rem;
    backdrop-filter: blur(10px);
  }

  .hero-badge.zone { background: rgba(255,255,255,0.2); }
  .hero-badge.specialty { background: rgba(0,0,0,0.2); }

  .hero h1 {
    font-size: clamp(1.5rem, 4vw, 2.5rem);
    font-weight: 800;
    margin-bottom: 1rem;
    text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
  }

  .hero-meta {
    display: flex;
    flex-wrap: wrap;
    gap: 1.25rem;
    margin-bottom: 1.5rem;
  }

  .meta-item {
    display: flex;
    align-items: center;
    gap: 0.4rem;
    font-size: 0.9rem;
    opacity: 0.95;
  }

  .meta-item.highlight {
    background: rgba(255,255,255,0.2);
    padding: 0.3rem 0.7rem;
    border-radius: 1rem;
  }

  .emergency-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
  }

  .btn-emergency {
    display: flex;
    align-items: center;
    gap: 0.6rem;
    padding: 0.7rem 1rem;
    border-radius: 0.6rem;
    text-decoration: none;
    color: white;
    transition: transform 0.2s, box-shadow 0.2s;
  }

  .btn-emergency.primary { background: rgba(0,0,0,0.3); }
  .btn-emergency.secondary { background: rgba(0,0,0,0.2); }
  .btn-emergency.emergency { background: #dc2626; }

  .btn-emergency:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  }

  .btn-icon { font-size: 1.3rem; }
  .btn-text { display: flex; flex-direction: column; text-align: left; }
  .btn-text strong { font-size: 1rem; }
  .btn-text small { font-size: 0.7rem; opacity: 0.85; }

  /* Main Container */
  .main-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem 1.5rem;
  }

  .content-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
  }

  @media (min-width: 1024px) {
    .content-grid {
      grid-template-columns: 1fr 350px;
    }
  }

  /* Info Cards */
  .info-card {
    background: white;
    border-radius: 1rem;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    box-shadow: 0 2px 8px rgba(0,0,0,0.06);
  }

  .info-card h2 {
    font-size: 1.15rem;
    color: #1e293b;
    margin-bottom: 1.25rem;
    padding-bottom: 0.75rem;
    border-bottom: 2px solid #e2e8f0;
  }

  /* Contact Card */
  .contact-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
  }

  .contact-item {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
  }

  .contact-label {
    font-size: 0.75rem;
    color: #64748b;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .contact-value {
    font-size: 0.95rem;
    color: #1e293b;
  }

  .contact-value.highlight {
    color: var(--mor-primary);
    font-weight: 600;
  }

  .contact-phone {
    font-size: 1.1rem;
    color: var(--mor-primary);
    font-weight: 700;
    text-decoration: none;
  }

  .contact-phone:hover { text-decoration: underline; }

  .map-container {
    margin-top: 1.25rem;
    padding-top: 1rem;
    border-top: 1px solid #e2e8f0;
  }

  .map-link {
    display: flex;
    align-items: center;
    gap: 0.6rem;
    padding: 0.75rem 1rem;
    background: #f1f5f9;
    border-radius: 0.5rem;
    text-decoration: none;
    color: #475569;
    transition: background 0.2s;
  }

  .map-link:hover { background: #e2e8f0; }
  .map-icon { font-size: 1.25rem; }
  .map-coords { font-size: 0.75rem; color: #94a3b8; margin-left: auto; }

  /* Services */
  .services-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: grid;
    gap: 0.6rem;
  }

  .service-item {
    display: flex;
    align-items: flex-start;
    gap: 0.6rem;
    padding: 0.6rem 0.8rem;
    background: #f8fafc;
    border-radius: 0.5rem;
    border-left: 3px solid var(--mor-primary);
  }

  .service-icon { font-size: 1rem; flex-shrink: 0; }
  .service-text { font-size: 0.9rem; color: #334155; }

  /* Specialties */
  .specialties-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 0.6rem;
  }

  .specialty-item {
    padding: 0.5rem 1rem;
    border-radius: 2rem;
    font-size: 0.85rem;
    font-weight: 600;
  }

  .specialty-item[data-type="hazmat"] { background: linear-gradient(135deg, #fbbf24, #f59e0b); color: #78350f; }
  .specialty-item[data-type="usar"] { background: linear-gradient(135deg, #f97316, #ea580c); color: white; }
  .specialty-item[data-type="aquatic"] { background: linear-gradient(135deg, #22d3ee, #06b6d4); color: #164e63; }
  .specialty-item[data-type="forest"] { background: linear-gradient(135deg, #4ade80, #22c55e); color: #14532d; }
  .specialty-item[data-type="highway"] { background: linear-gradient(135deg, #3b82f6, #1d4ed8); color: white; }
  .specialty-item[data-type="industrial"] { background: linear-gradient(135deg, #64748b, #475569); color: white; }
  .specialty-item[data-type="magic"] { background: linear-gradient(135deg, #c084fc, #a855f7); color: white; }
  .specialty-item[data-type="default"] { background: #e2e8f0; color: #475569; }

  /* Coverage */
  .coverage-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-bottom: 1rem;
  }

  .coverage-tag {
    padding: 0.4rem 0.8rem;
    background: #ecfdf5;
    border: 1px solid #a7f3d0;
    border-radius: 2rem;
    font-size: 0.8rem;
    color: #065f46;
  }

  .response-info {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1rem;
    background: linear-gradient(135deg, var(--mor-primary), var(--mor-secondary));
    color: white;
    border-radius: 0.5rem;
  }

  .response-icon { font-size: 1.25rem; }
  .response-text { font-size: 0.9rem; }

  /* History */
  .history-text {
    font-size: 0.95rem;
    color: #475569;
    line-height: 1.8;
    margin-bottom: 1rem;
  }

  .foundation-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: #f1f5f9;
    border-radius: 2rem;
    font-size: 0.85rem;
    color: #334155;
  }

  /* Special Cards */
  .special-card {
    border-left: 4px solid var(--mor-primary);
  }

  .special-card.tepoztlan { border-left-color: #16a34a; background: linear-gradient(to bottom, white, #f0fdf4); }
  .special-card.civac { border-left-color: #7c3aed; background: linear-gradient(to bottom, white, #faf5ff); }
  .special-card.oaxtepec { border-left-color: #0891b2; background: linear-gradient(to bottom, white, #ecfeff); }
  .special-card.autopista { border-left-color: #dc2626; background: linear-gradient(to bottom, white, #fef2f2); }

  .special-content p {
    font-size: 0.95rem;
    color: #475569;
    line-height: 1.7;
    margin-bottom: 1rem;
  }

  .special-features {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 0.75rem;
    margin-bottom: 1.25rem;
  }

  .feature {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 0.75rem;
    background: rgba(0,0,0,0.03);
    border-radius: 0.5rem;
    font-size: 0.85rem;
    color: #334155;
  }

  .feature-icon { font-size: 1.1rem; }

  .special-stats {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
    margin-bottom: 1.25rem;
  }

  .stat-item {
    text-align: center;
    padding: 0.75rem;
    background: #fee2e2;
    border-radius: 0.5rem;
  }

  .stat-number {
    display: block;
    font-size: 1.5rem;
    font-weight: 700;
    color: #dc2626;
  }

  .stat-label {
    font-size: 0.7rem;
    color: #991b1b;
  }

  .special-warning {
    padding: 1rem;
    background: #fff7ed;
    border: 1px solid #fed7aa;
    border-radius: 0.5rem;
  }

  .special-warning.hazmat { background: #faf5ff; border-color: #e9d5ff; }
  .special-warning.aquatic { background: #ecfeff; border-color: #a5f3fc; }
  .special-warning.highway { background: #fef2f2; border-color: #fecaca; }

  .special-warning strong {
    display: block;
    font-size: 0.9rem;
    color: #9a3412;
    margin-bottom: 0.5rem;
  }

  .special-warning.hazmat strong { color: #7c3aed; }
  .special-warning.aquatic strong { color: #0891b2; }
  .special-warning.highway strong { color: #dc2626; }

  .special-warning ul {
    margin: 0;
    padding-left: 1.25rem;
    font-size: 0.85rem;
    color: #78350f;
  }

  .special-warning.hazmat ul { color: #6b21a8; }
  .special-warning.aquatic ul { color: #0e7490; }
  .special-warning.highway ul { color: #b91c1c; }

  .special-warning li { margin-bottom: 0.3rem; }

  /* Comandancia */
  .comandancia-info {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem;
    background: #f1f5f9;
    border-radius: 0.5rem;
  }

  .comandancia-icon { font-size: 1.5rem; }
  .comandancia-name { font-size: 1rem; color: #334155; font-weight: 600; }

  /* Sidebar */
  .sidebar {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  .sidebar-card {
    background: white;
    border-radius: 1rem;
    padding: 1.25rem;
    box-shadow: 0 2px 8px rgba(0,0,0,0.06);
  }

  .sidebar-card h3 {
    font-size: 1rem;
    color: #1e293b;
    margin-bottom: 0.75rem;
    padding-bottom: 0.6rem;
    border-bottom: 2px solid #e2e8f0;
  }

  /* Emergency Card */
  .emergency-card {
    background: linear-gradient(135deg, #064e3b, #065f46);
    color: white;
  }

  .emergency-card h3 {
    color: white;
    border-bottom-color: rgba(255,255,255,0.2);
  }

  .emergency-main {
    margin-bottom: 1rem;
  }

  .emergency-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.6rem;
    width: 100%;
    padding: 1rem;
    background: #dc2626;
    border-radius: 0.75rem;
    text-decoration: none;
    color: white;
    transition: background 0.2s;
  }

  .emergency-btn:hover { background: #b91c1c; }

  .emergency-icon { font-size: 1.5rem; }
  .emergency-number { font-size: 1.25rem; font-weight: 700; }

  .emergency-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .emergency-list li {
    display: flex;
    justify-content: space-between;
    padding: 0.5rem 0;
    border-bottom: 1px solid rgba(255,255,255,0.1);
    font-size: 0.8rem;
  }

  .emergency-list li:last-child { border-bottom: none; }
  .emergency-list span { opacity: 0.8; }
  .emergency-list a { color: #fbbf24; text-decoration: none; font-weight: 600; }

  /* Zone Card */
  .zone-card {
    border-left: 4px solid var(--zone-color);
  }

  .zone-desc {
    font-size: 0.85rem;
    color: #475569;
    line-height: 1.6;
    margin-bottom: 0.75rem;
  }

  .zone-pop {
    display: inline-block;
    font-size: 0.8rem;
    color: var(--zone-color);
    font-weight: 500;
    margin-bottom: 0.75rem;
  }

  .zone-risks {
    padding-top: 0.75rem;
    border-top: 1px solid #e2e8f0;
  }

  .risks-title {
    display: block;
    font-size: 0.75rem;
    color: #dc2626;
    font-weight: 600;
    margin-bottom: 0.4rem;
  }

  .zone-risks ul {
    margin: 0;
    padding-left: 1rem;
    font-size: 0.8rem;
    color: #64748b;
  }

  .zone-risks li { margin-bottom: 0.2rem; }

  /* Related Card */
  .related-list {
    list-style: none;
    padding: 0;
    margin: 0 0 1rem 0;
  }

  .related-list li {
    border-bottom: 1px solid #e2e8f0;
  }

  .related-list li:last-child { border-bottom: none; }

  .related-list a {
    display: flex;
    flex-direction: column;
    gap: 0.15rem;
    padding: 0.6rem 0;
    text-decoration: none;
    transition: background 0.2s;
  }

  .related-list a:hover { background: #f1f5f9; margin: 0 -0.5rem; padding-left: 0.5rem; }

  .related-name { font-size: 0.85rem; color: var(--mor-primary); font-weight: 500; }
  .related-city { font-size: 0.75rem; color: #64748b; }

  .view-all {
    display: block;
    text-align: center;
    font-size: 0.85rem;
    color: var(--mor-primary);
    text-decoration: none;
    font-weight: 600;
  }

  .view-all:hover { text-decoration: underline; }

  /* Info Card Sidebar */
  .info-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .info-list li {
    display: flex;
    justify-content: space-between;
    padding: 0.45rem 0;
    border-bottom: 1px solid #e2e8f0;
    font-size: 0.8rem;
  }

  .info-list li:last-child { border-bottom: none; }
  .info-list span { color: #64748b; }
  .info-list strong { color: var(--mor-dark); }

  /* CTA Section */
  .cta-section {
    background: var(--mor-dark);
    padding: 3rem 1.5rem;
    text-align: center;
    color: white;
  }

  .cta-content {
    max-width: 600px;
    margin: 0 auto;
  }

  .cta-section h2 {
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
  }

  .cta-section p {
    opacity: 0.9;
    margin-bottom: 1.5rem;
  }

  .cta-button {
    display: inline-block;
    padding: 0.875rem 2rem;
    background: white;
    color: var(--mor-dark);
    text-decoration: none;
    border-radius: 0.5rem;
    font-weight: 600;
    transition: transform 0.2s, box-shadow 0.2s;
  }

  .cta-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  }

  /* Responsive */
  @media (max-width: 768px) {
    .hero-meta { flex-direction: column; gap: 0.5rem; }
    .emergency-buttons { flex-direction: column; }
    .alert-content { flex-direction: column; text-align: center; }
    .contact-grid { grid-template-columns: 1fr; }
    .special-features { grid-template-columns: 1fr; }
    .special-stats { grid-template-columns: repeat(3, 1fr); }
  }
</style>
