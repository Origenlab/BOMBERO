---
/**
 * ─── QuoteForm Component ───
 * Formulario de cotización - Diseño homologado con CompanyInfo y FAQ
 * Mismo layout de dos columnas con sidebar
 */
import SectionHeader from "./SectionHeader.astro";
---

<section class="quote-form" id="cotizar">
  <div class="container">
    <SectionHeader
      label="Solicita tu Cotización"
      title="Cotiza tu Equipo para Bomberos en Minutos"
      description="Completa el formulario y recibe una cotización personalizada con precios, disponibilidad y tiempos de entrega. Sin compromiso."
    >
      <p>
        En <strong>BOMBERO.MX</strong> respondemos todas las cotizaciones en menos de 24 horas.
        Nuestro equipo de asesores te ayudará a seleccionar el equipo correcto para tu estación o brigada.
      </p>
    </SectionHeader>

    <div class="quote-form__grid">
      <!-- Main Content: Form -->
      <div class="quote-form__main">
        <form class="quote-form__form" action="/api/cotizar" method="POST">
          <div class="quote-form__row">
            <div class="quote-form__field">
              <label for="nombre">Nombre completo</label>
              <input type="text" id="nombre" name="nombre" placeholder="Tu nombre" required />
            </div>
            <div class="quote-form__field">
              <label for="contacto">Teléfono o Email</label>
              <input type="text" id="contacto" name="contacto" placeholder="55 1234 5678 o tu@email.com" required />
            </div>
          </div>

          <div class="quote-form__row">
            <div class="quote-form__field">
              <label for="institucion">Institución / Empresa</label>
              <input type="text" id="institucion" name="institucion" placeholder="Ej: H. Cuerpo de Bomberos de..." />
            </div>
            <div class="quote-form__field">
              <label for="equipo">Tipo de equipo</label>
              <select id="equipo" name="equipo" required>
                <option value="">Selecciona el equipo que necesitas</option>
                <option value="trajes">Trajes de Bombero</option>
                <option value="cascos">Cascos</option>
                <option value="botas">Botas</option>
                <option value="guantes">Guantes</option>
                <option value="scba">Equipos SCBA</option>
                <option value="herramientas">Herramientas de Rescate</option>
                <option value="varios">Varios / Equipamiento Completo</option>
              </select>
            </div>
          </div>

          <div class="quote-form__field quote-form__field--full">
            <label for="detalles">Detalles del equipo (opcional)</label>
            <textarea id="detalles" name="detalles" rows="4" placeholder="Especifica cantidades, tallas, modelos o cualquier detalle adicional..."></textarea>
          </div>

          <div class="quote-form__actions">
            <button type="submit" class="quote-form__submit">Solicitar Cotización</button>
            <span class="quote-form__divider">o</span>
            <a href="https://wa.me/5215512345678" class="quote-form__whatsapp" target="_blank" rel="noopener">
              Enviar por WhatsApp
            </a>
          </div>

          <p class="quote-form__note">Sin compromiso · Atención personalizada · Te respondemos en menos de 24 hrs</p>
        </form>
      </div>

      <!-- Sidebar -->
      <aside class="quote-form__sidebar">
        <div class="quote-form__card">
          <h4>¿Por qué cotizar con nosotros?</h4>
          <ul class="quote-form__benefits">
            <li>
              <span class="quote-form__bullet"></span>
              <span>Respuesta en menos de 24 horas</span>
            </li>
            <li>
              <span class="quote-form__bullet"></span>
              <span>Asesoría técnica sin costo</span>
            </li>
            <li>
              <span class="quote-form__bullet"></span>
              <span>Precios competitivos</span>
            </li>
            <li>
              <span class="quote-form__bullet"></span>
              <span>Envío a los 32 estados</span>
            </li>
            <li>
              <span class="quote-form__bullet"></span>
              <span>Facturación para gobierno</span>
            </li>
          </ul>
        </div>

        <div class="quote-form__card">
          <h4>También puedes llamarnos</h4>
          <a href="tel:+525512345678" class="quote-form__phone">55 1234 5678</a>
          <p class="quote-form__schedule">Lunes a Viernes: 9:00 - 18:00</p>
          <address class="quote-form__address">
            Av. Tamaulipas 150, Piso 13<br>
            Col. Condesa, Cuauhtémoc<br>
            06140 Ciudad de México, CDMX
          </address>
        </div>

        <div class="quote-form__card quote-form__card--cta">
          <h4>Certificaciones</h4>
          <p>Todo nuestro equipo cuenta con certificaciones internacionales</p>
          <div class="quote-form__certs">
            <span>NFPA</span>
            <span>UL</span>
            <span>NOM</span>
            <span>EN</span>
          </div>
        </div>
      </aside>
    </div>
  </div>
</section>

<style>
  /* ═══════════════════════════════════════════════════════════════════════
     QUOTE FORM - Diseño homologado con CompanyInfo y FAQ
     ═══════════════════════════════════════════════════════════════════════ */

  .quote-form {
    padding: var(--space-20) 0;
    background: white;
  }

  .quote-form__grid {
    display: grid;
    grid-template-columns: 1fr 380px;
    gap: var(--space-10);
    align-items: start;
  }

  /* ═══ Main Content: Form ═══ */
  .quote-form__main {
    background: var(--color-smoke-50);
    border-radius: var(--radius-xl);
    padding: var(--space-8);
  }

  .quote-form__form {
    display: flex;
    flex-direction: column;
    gap: var(--space-5);
  }

  .quote-form__row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-5);
  }

  .quote-form__field {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }

  .quote-form__field--full {
    grid-column: 1 / -1;
  }

  .quote-form__field label {
    font-size: var(--text-sm);
    font-weight: 600;
    color: var(--color-smoke-700);
  }

  .quote-form__field input,
  .quote-form__field select,
  .quote-form__field textarea {
    padding: var(--space-4);
    background: white;
    border: 1px solid var(--color-smoke-200);
    border-radius: var(--radius-lg);
    font-size: var(--text-base);
    color: var(--color-smoke-800);
    transition: border-color 0.2s, box-shadow 0.2s;
  }

  .quote-form__field input::placeholder,
  .quote-form__field textarea::placeholder {
    color: var(--color-smoke-400);
  }

  .quote-form__field input:focus,
  .quote-form__field select:focus,
  .quote-form__field textarea:focus {
    outline: none;
    border-color: var(--color-fire-500);
    box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);
  }

  .quote-form__field textarea {
    resize: vertical;
    min-height: 100px;
  }

  .quote-form__actions {
    display: flex;
    align-items: center;
    gap: var(--space-4);
    margin-top: var(--space-2);
  }

  .quote-form__submit {
    flex: 1;
    padding: var(--space-4) var(--space-6);
    background: linear-gradient(135deg, var(--color-fire-600) 0%, var(--color-ember-600) 100%);
    color: white;
    border: none;
    border-radius: var(--radius-lg);
    font-size: var(--text-base);
    font-weight: 700;
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
  }

  .quote-form__submit:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);
  }

  .quote-form__divider {
    font-size: var(--text-sm);
    color: var(--color-smoke-400);
  }

  .quote-form__whatsapp {
    flex: 1;
    padding: var(--space-4) var(--space-6);
    background: #25D366;
    color: white;
    text-align: center;
    text-decoration: none;
    border-radius: var(--radius-lg);
    font-size: var(--text-base);
    font-weight: 700;
    transition: transform 0.2s, box-shadow 0.2s;
  }

  .quote-form__whatsapp:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(37, 211, 102, 0.3);
  }

  .quote-form__note {
    text-align: center;
    font-size: var(--text-sm);
    color: var(--color-smoke-500);
    margin: 0;
  }

  /* ═══ Sidebar ═══ */
  .quote-form__sidebar {
    display: flex;
    flex-direction: column;
    gap: var(--space-6);
    position: sticky;
    top: var(--space-6);
  }

  .quote-form__card {
    padding: var(--space-6);
    background: var(--color-smoke-50);
    border-radius: var(--radius-xl);
  }

  .quote-form__card h4 {
    font-size: var(--text-lg);
    font-weight: 700;
    color: var(--color-smoke-900);
    margin: 0 0 var(--space-4);
  }

  .quote-form__card > p {
    font-size: var(--text-sm);
    color: var(--color-smoke-500);
    margin: 0 0 var(--space-4);
  }

  /* Benefits List */
  .quote-form__benefits {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
  }

  .quote-form__benefits li {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    font-size: var(--text-sm);
    color: var(--color-smoke-700);
  }

  .quote-form__bullet {
    width: 8px;
    height: 8px;
    min-width: 8px;
    background: var(--color-fire-500);
    border-radius: 50%;
  }

  /* Phone */
  .quote-form__phone {
    display: block;
    font-size: var(--text-2xl);
    font-weight: 800;
    color: var(--color-fire-600);
    text-decoration: none;
    margin-bottom: var(--space-2);
  }

  .quote-form__phone:hover {
    color: var(--color-fire-700);
  }

  .quote-form__schedule {
    font-size: var(--text-sm);
    color: var(--color-smoke-500);
    margin: 0;
  }

  .quote-form__address {
    font-style: normal;
    font-size: var(--text-xs);
    color: var(--color-smoke-500);
    line-height: 1.6;
    margin-top: var(--space-3);
    padding-top: var(--space-3);
    border-top: 1px solid var(--color-smoke-200);
  }

  /* CTA Card */
  .quote-form__card--cta {
    background: linear-gradient(135deg, var(--color-fire-600) 0%, var(--color-ember-600) 100%);
  }

  .quote-form__card--cta h4 {
    color: white;
  }

  .quote-form__card--cta > p {
    color: rgba(255, 255, 255, 0.85);
  }

  .quote-form__certs {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
  }

  .quote-form__certs span {
    padding: var(--space-2) var(--space-3);
    background: rgba(255, 255, 255, 0.2);
    color: white;
    font-size: var(--text-sm);
    font-weight: 700;
    border-radius: var(--radius-md);
  }

  /* ═══ Responsive ═══ */
  @media (max-width: 1024px) {
    .quote-form__grid {
      grid-template-columns: 1fr;
    }

    .quote-form__sidebar {
      position: static;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: var(--space-4);
    }
  }

  @media (max-width: 768px) {
    .quote-form {
      padding: var(--space-16) 0;
    }

    .quote-form__main {
      padding: var(--space-6);
    }

    .quote-form__row {
      grid-template-columns: 1fr;
    }

    .quote-form__sidebar {
      grid-template-columns: 1fr;
    }

    .quote-form__actions {
      flex-direction: column;
    }

    .quote-form__submit,
    .quote-form__whatsapp {
      width: 100%;
    }

    .quote-form__card {
      padding: var(--space-5);
    }
  }
</style>
